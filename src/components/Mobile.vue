<template>
  <div class="box">
    <!--å¤´éƒ¨-->
    <div class="header">
      <h1 style=" font-size: 0.9rem; color: #fff; line-height: 2.5rem; text-align: center;">å‘˜å·¥å­¦ä¹ ä¸å‘å±•è„‰æè°ƒæŸ¥</h1>
      <section class="tips">
        <div class="first">
          <div class="icon">
            <img src="../assets/test-header-1.svg" alt="" />
          </div>
          <div class="tip-text"><span>æ²¡æœ‰æ—¶é—´é™åˆ¶</span></div>
        </div>
        <div class="first">
          <div class="icon">
            <img src="../assets/test-header-2.svg" alt="" />
          </div>
          <div class="tip-text"><span>è¯·è¯šå®å›ç­”</span></div>
        </div>
        <div class="first">
          <div class="icon">
            <img src="../assets/test-header-3.svg" alt="" />
          </div>
          <div class="tip-text"><span>å°½é‡ä¸è¦é€‰æ‹©ä¸­ç«‹çš„ç­”æ¡ˆ</span></div>
        </div>
      </section>
    </div>
    <!--å†…å®¹-->
    <div class="main">
      <fieldset v-for="(item,index) in questionAndOptions" :key="index" class="question">
        <legend>
          <span>{{ item.text }}</span>
        </legend>
        <div class="group_option">
          <div class="radios">
            <span>
              <label class="container">
                <input :checked="item.radio[0]" type="checkbox" value="-2" @click="choose(index,0,item)" />
                <div :id="index+'-'+'0'" class="checkmarks"  style="height: 2.5em; width: 2.5em;"></div>
              </label>
            </span>
            <span>
              <label class="container">
                <input :checked="item.radio[1]" type="checkbox" value="-1" @click="choose(index,1,item)" />
                <div :id="index+'-'+'1'" class="checkmarks checkmark2"  style="height: 1.75em; width: 1.75em"></div>
              </label>
            </span>
            <span>
              <label class="container">
                <input :checked="item.radio[2]" type="checkbox" value="0" @click="choose(index,2,item)" />
                <div :id="index+'-'+'2'" class="checkmarks checkmark3"  style="height: 1.25em; width: 1.25em" ></div>
              </label>
            </span>
            <span>
              <label class="container">
                <input :checked="item.radio[3]" type="checkbox" value="1" @click="choose(index,3,item)" />
                <div :id="index+'-'+'3'" class="checkmarks checkmark2" style="height: 1.75em; width: 1.75em"></div>
              </label>
            </span>
            <span>
              <label class="container">
                <input :checked="item.radio[4]" type="checkbox" value="2" @click="choose(index,4,item)" />
                <div :id="index+'-'+'4'" class="checkmarks"  style="height: 2.5em; width: 2.5em"></div>
              </label>
            </span>
          </div>
        </div>
        <div class="captions">
          <div class="text-green">å®Œå…¨åŒæ„</div>
          <div class="text-purple">å®Œå…¨ä¸åŒæ„</div>
        </div>
      </fieldset>

      <fieldset class="question">
        <legend>
          <span>{{ scheduleDetails.openQuestion }}ï¼š</span>
        </legend>
        <div class="textarea-container">
          <textarea v-model="openQuestion" class="textarea" placeholder="æ„Ÿè°¢æ‚¨çš„å¡«å†™ğŸ™"></textarea>
        </div>
      </fieldset>
    </div>
    <!--ç”¨æˆ·ä¿¡æ¯-->
    <div class="infomation">
      <fieldset class="info">
        <legend>
          <span>æ‚¨çš„å·¥å·ï¼š</span>
        </legend>
        <input v-model="answerForm.jobNo" class="info-input" type="text" placeholder="è¯·è¾“å…¥æ‚¨çš„å·¥å·" />
      </fieldset>
      <fieldset class="info">
        <legend>
          <span>æ‚¨çš„å§“åï¼š</span>
        </legend>
        <input  v-model="answerForm.realName" class="info-input" type="text" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å" />
      </fieldset>

      <fieldset class="info">
        <legend>
          <span>æ‚¨çš„æ€§åˆ«ï¼š</span>
        </legend>
        <div class="info-option">
          <div class="left-option">
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseSex(1)" />
                  <div id="sexMan" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">ç”·</div>
            </div>
          </div>
          <div class="right-option">
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseSex(0)" />
                  <div id="sexWoman" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">
                å¥³&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
              </div>
            </div>
          </div>
        </div>
      </fieldset>

      <fieldset class="info">
        <legend>
          <span>æ‚¨çš„å¹´é¾„ï¼š</span>
        </legend>
        <div class="info-option">
          <div class="left-option">
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseAge(20)" />
                  <div id="age20" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">20å²åŠä»¥ä¸‹</div>
            </div>
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseAge(25)" />
                  <div id="age25" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">21-25å²</div>
            </div>
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseAge(30)" />
                  <div id="age30" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">26-30å²</div>
            </div>
          </div>
          <div class="right-option">
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseAge(35)" />
                  <div id="age35" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">31-35å²</div>
            </div>
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseAge(40)" />
                  <div id="age40" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">36-40å²</div>
            </div>
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox"  @click="chooseAge(45)" />
                  <div id="age45" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">41å²åŠä»¥ä¸Š</div>
            </div>
          </div>
        </div>
      </fieldset>

      <fieldset class="info">
        <legend>
          <span>æ‚¨çš„å­¦å†ï¼š</span>
        </legend>
        <div class="info-option">
          <div class="left-option">
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseDegree(1)" />
                  <div id="degree1" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">å°å­¦åŠä»¥ä¸‹</div>
            </div>
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseDegree(2)" />
                  <div id="degree2" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">åˆä¸­</div>
            </div>
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseDegree(3)"  />
                  <div id="degree3" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">é«˜ä¸­/èŒé«˜</div>
            </div>
          </div>
          <div class="right-option">
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseDegree(4)" />
                  <div id="degree4" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">å¤§ä¸“</div>
            </div>
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseDegree(5)" />
                  <div id="degree5" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">æœ¬ç§‘</div>
            </div>
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseDegree(6)" />
                  <div id="degree6" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">ç¡•å£«åŠä»¥ä¸Š</div>
            </div>
          </div>
        </div>
      </fieldset>

      <fieldset class="info">
        <legend>
          <span>æ‚¨çš„ç®¡ç†èŒï¼š</span>
        </legend>
        <div class="info-option">
          <div class="left-option">
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseGrage  (1)" />
                  <div id="grade1" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">æ— </div>
            </div>
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseGrage(2)" />
                  <div id="grade2" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">çº¿ç»„çº§</div>
            </div>
          </div>
          <div class="right-option">
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseGrage(3)" />
                  <div id="grade3" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">è¯¾ç†çº§</div>
            </div>
            <div class="option">
              <span>
                <label class="container">
                  <input checked="checked" type="checkbox" @click="chooseGrage(4)" />
                  <div id="grade4" class="checkmarks checkmark4" style="height: 0.8rem; width: 0.8rem"></div>
                </label>
              </span>
              <div class="text-option">ç»ç†çº§ä»¥ä¸Š</div>
            </div>
          </div>
        </div>
      </fieldset>

    </div>
    <!--åº•éƒ¨-->
    <div class="footer"><button class="animated-button" @click="sumbit()">æ äº¤</button></div>
  </div>
</template>

<script>
import scheduleApi from '@/api/schedule';
import answerApi from '@/api/answer'


export default {
  data() {
    return {
      radio: true,
      scheduleDetails: {},
      questions: [],
      questionAndOptions:[],
      answer: [],
      answerTags: [],
      ques: {},
      tags: [],
      answerForm: {},
      openQuestion: '',
      realName: '',
      jobNo: '',
      completeTime: 0,
      source: '',
      appId: "GSZDIv6rmA8d2LujhLa30g2",
    }
  },
  created() {
    this.getQuestion()
    // è®¡æ—¶å™¨ï¼Œå®Œæˆæ—¶é—´
    setInterval(() => {
      this.completeTime++
      this.answerForm.completeTime =  this.completeTime
    }, 1000)
    // è·å–ç³»ç»Ÿç±»å‹
    this.getSystem()
    // è·å–æµè§ˆå™¨
    this.getBrowser()

    /* ç›¸ä¿¡æ•°æ®begin */
    var test = window.location.href
    let arr = test.split("?code=")
    this.code = arr[1]
    if (this.code) {
      setTimeout(() => {answerApi.getUserInfoByBelieve("code=" + this.code + "&appid=" + this.appId).then((res) => {
        // console.log(this.code)
        this.source = 'ç›¸ä¿¡'
        this.answerForm.source = 'ç›¸ä¿¡'
        this.answerForm.jobNo = res.data.civetno
        this.answerForm.realName = res.data.realname
        if (res.data.civetno) {
          const form = {
            code: this.answerForm.jobNo,
            source: 'ç›¸ä¿¡'
          }
          this.view(form)
        }
      })}, 1000)
    }
    /* ç›¸ä¿¡æ•°æ®end */

    /* å¾®ä¿¡å…¬ä¼—å·begin */
    let arrGZH = test.split('?fromway=')
    let way = arrGZH[1]
    if(way === 'wxoffacc') {
      // wxoffaccè¡¨ç¤ºæ¥è‡ªå¾®ä¿¡å…¬ä¼—å·
      this.source = 'å¾®ä¿¡å…¬ä¼—å·'
      console.log(this.source)
      const form = {
        source: 'å¾®ä¿¡å…¬ä¼—å·'
      }
      this.view(form)
    }
    /* å¾®ä¿¡å…¬ä¼—å·end */

    
  },
  mounted() {
    // è·å–å¯Œå­¦å®å…¸ ä¿¡æ¯
    setTimeout(() => {
      // console.log("1s")
      if (this.$jobNo) {
        // ç¡®å®šæ¥æº ä¸º å¯Œå­¦å®å…¸
        this.source = 'å¯Œå­¦å®å…¸'
        this.answerForm.source = 'å¯Œå­¦å®å…¸'
        this.answerForm.jobNo = this.$jobNo
        this.answerForm.realName = this.$realName
        const form = {
          code: this.answerForm.jobNo,
          source: 'å¯Œå­¦å®å…¸'
        }
        this.view(form)
      } 
    }, 1000)

    setTimeout(() => {
      // console.log("1s")
      if (!this.source) {
        // ç¡®å®šæ¥æº ä¸º å¯Œå­¦å®å…¸
        this.source = 'å…¶ä»–'
        const form = {
          source: 'å…¶ä»–'
        }
        this.view(form)
      } 
    }, 1700)
  },
  methods: {
    view(form) {
      // è®°å½•è®¿é—®
      answerApi.addVisitor(form).then(res => {
        
      })
    },
    getSystem() {
        var system = navigator.userAgent;
        this.ua = system;
        //åˆ¤æ–­android ios windows
        var android = system.indexOf("Android");
        var iphone = system.indexOf("iPhone");
        var ipad = system.indexOf("ipad");
        var windows = system.indexOf("windows");
        var isMac = /macintosh|mac os x/i.test(navigator.userAgent);
        if (android !== -1) {
          console.log("Android");
          this.answerForm.os = "Android";
          // return 'android'
        }
        if (iphone !== -1 || ipad !== -1 || isMac) {
          console.log("ios");
          this.answerForm.os = "ios";
          // return 'ios'
        }
        if (windows !== -1) {
          console.log("windows");
          this.answerForm.os = "windows";
          // return 'windows'
        }
    },
    getBrowser() {
        var userAgent = navigator.userAgent
        //å–å¾—æµè§ˆå™¨çš„userAgentå­—ç¬¦ä¸²
        //åˆ¤æ–­æ˜¯å¦Operaæµè§ˆå™¨
        if (userAgent.indexOf("Opera") > -1) {
          this.answerForm.browser = "Opera"
        }
        //åˆ¤æ–­å¾®ä¿¡æµè§ˆå™¨
        else if (userAgent.indexOf("MicroMessenger") > -1 || userAgent.indexOf("micromessenger") > -1) {
          this.answerForm.browser =  "MicroMessenger";
        }
        //åˆ¤æ–­æ˜¯å¦æ˜¯QQæµè§ˆå™¨
        else if (userAgent.indexOf("MQQBrowser") > -1) {
          this.answerForm.browser =  "MQQBrowser";
        }
        //åˆ¤æ–­æ˜¯å¦Edgeæµè§ˆå™¨
        else if (userAgent.indexOf("Edg") > -1) {
          this.answerForm.browser =  "Edge";
        }
        //åˆ¤æ–­æ˜¯å¦Firefoxæµè§ˆå™¨
        else if (userAgent.indexOf("Firefox") > -1) {
          this.answerForm.browser =  "firefox";
        }
        // åˆ¤æ–­æ˜¯å¦æ˜¯å°ç±³æµè§ˆå™¨
        else if (userAgent.indexOf("MiuiBrowser") > -1) {
          this.answerForm.browser =  "MiuiBrowser";
        }
        //åˆ¤æ–­æ˜¯å¦Chromeæµè§ˆå™¨
        else if (userAgent.indexOf("Chrome") > -1) {
          this.answerForm.browser =  "Chrome";
        }
        //åˆ¤æ–­æ˜¯å¦Chromeæµè§ˆå™¨
        else if (userAgent.indexOf("360SE") > -1) {
          this.answerForm.browser =  "360SE";
        }
        //åˆ¤æ–­æ˜¯å¦Safariæµè§ˆå™¨
        else if (userAgent.indexOf("Safari") > -1) {
          this.answerForm.browser =  "Safari";
        }
        //åˆ¤æ–­æ˜¯å¦IEæµè§ˆå™¨
        else if (userAgent.indexOf("compatible") > -1 && userAgent.indexOf("MSIE") > -1 && !isOpera) {
          this.answerForm.browser =  "IE";
        } else if (userAgent.indexOf("Trident") > -1) {
          this.answerForm.browser =  "IE";
        }
    },
    getQuestion() {
      var date = this.formatDate()
      console.log(date)
      scheduleApi.getQuestionBySchedule(date).then(res => {
        if(res.data.code === 200) {
          this.scheduleDetails = res.data.data.question
          this.answerForm.scheduleId = this.scheduleDetails.id
          this.tags = this.scheduleDetails.tags.split('-')
          this.module = this.scheduleDetails.module.split('-')
          this.questions = JSON.parse(this.scheduleDetails.details)
          this.questions.forEach(element => {
            const ques = {}
            ques['text'] = element
            ques['radio'] = [true,true,true,true,true] 
            this.questionAndOptions.push(ques)
          })
        }
      })
    },
    choose(index,radioIndex,row) {
      document.getElementById(index + '-' + radioIndex).classList.replace("checkmarks","checkmark")
      this.questionAndOptions[index]['radio'][radioIndex] = !this.questionAndOptions[index]['radio'][radioIndex]
      this.answer.push(row.text +':' + (radioIndex + 1))
      this.answerTags.push(this.module[radioIndex] + '-' + this.tags[radioIndex] + '-' + (radioIndex + 1))
      console.log(this.answer)
      console.log(this.answerTags)
      if(!this.questionAndOptions[index]['radio'][radioIndex]) {
        for(var i = 0; i < this.questionAndOptions[index]['radio'].length; i++) {
          if(i != radioIndex) {
            this.questionAndOptions[index]['radio'][i] = true
            document.getElementById(index + '-' + i).classList.replace("checkmark","checkmarks")
          }
        }
      }
      if(this.questionAndOptions[index]['radio'][radioIndex]) {
        document.getElementById(index + '-' + radioIndex).classList.replace("checkmark","checkmarks")
      }
    },
    chooseSex(sex) {
      this.answerForm['sex'] = sex
      if(sex === 0) {
        document.getElementById('sexMan').classList.replace("checkmark","checkmarks")
        document.getElementById('sexWoman').classList.replace("checkmarks","checkmark")
      }
      if(sex === 1) {
        document.getElementById('sexMan').classList.replace("checkmarks","checkmark")
        document.getElementById('sexWoman').classList.replace("checkmark","checkmarks")
      }
    },
    chooseAge(age) {
      if(age === 20) {
        document.getElementById('age25').classList.replace("checkmark","checkmarks")
        document.getElementById('age30').classList.replace("checkmark","checkmarks")
        document.getElementById('age35').classList.replace("checkmark","checkmarks")
        document.getElementById('age40').classList.replace("checkmark","checkmarks")
        document.getElementById('age45').classList.replace("checkmark","checkmarks")
        document.getElementById('age20').classList.replace("checkmarks","checkmark")
        this.answerForm['ageRange'] = '20å²åŠä»¥ä¸‹'
      }
      else if(age === 25) {
        document.getElementById('age20').classList.replace("checkmark","checkmarks")
        document.getElementById('age30').classList.replace("checkmark","checkmarks")
        document.getElementById('age35').classList.replace("checkmark","checkmarks")
        document.getElementById('age40').classList.replace("checkmark","checkmarks")
        document.getElementById('age45').classList.replace("checkmark","checkmarks")
        document.getElementById('age25').classList.replace("checkmarks","checkmark")
        this.answerForm['ageRange'] = '21-25å²'
      }
      else if(age === 30) {
        document.getElementById('age20').classList.replace("checkmark","checkmarks")
        document.getElementById('age25').classList.replace("checkmark","checkmarks")
        document.getElementById('age35').classList.replace("checkmark","checkmarks")
        document.getElementById('age40').classList.replace("checkmark","checkmarks")
        document.getElementById('age45').classList.replace("checkmark","checkmarks")
        document.getElementById('age30').classList.replace("checkmarks","checkmark")
        this.answerForm['ageRange'] = '26-30å²'
      }
      else if(age === 35) {
        document.getElementById('age20').classList.replace("checkmark","checkmarks")
        document.getElementById('age25').classList.replace("checkmark","checkmarks")
        document.getElementById('age30').classList.replace("checkmark","checkmarks")
        document.getElementById('age40').classList.replace("checkmark","checkmarks")
        document.getElementById('age45').classList.replace("checkmark","checkmarks")
        document.getElementById('age35').classList.replace("checkmarks","checkmark")
        this.answerForm['ageRange'] = '31-35å²'
      }
      else if(age === 40) {
        document.getElementById('age20').classList.replace("checkmark","checkmarks")
        document.getElementById('age25').classList.replace("checkmark","checkmarks")
        document.getElementById('age30').classList.replace("checkmark","checkmarks")
        document.getElementById('age35').classList.replace("checkmark","checkmarks")
        document.getElementById('age45').classList.replace("checkmark","checkmarks")
        document.getElementById('age40').classList.replace("checkmarks","checkmark")
        this.answerForm['ageRange'] = '36-40å²'
      }
      else if(age === 45) {
        document.getElementById('age20').classList.replace("checkmark","checkmarks")
        document.getElementById('age25').classList.replace("checkmark","checkmarks")
        document.getElementById('age35').classList.replace("checkmark","checkmarks")
        document.getElementById('age40').classList.replace("checkmark","checkmarks")
        document.getElementById('age30').classList.replace("checkmark","checkmarks")
        document.getElementById('age45').classList.replace("checkmarks","checkmark")
        this.answerForm['ageRange'] = '41å²åŠä»¥ä¸Š'
      }
    },
    chooseDegree(degree) {
      if(degree === 1) {
        document.getElementById('degree2').classList.replace("checkmark","checkmarks")
        document.getElementById('degree3').classList.replace("checkmark","checkmarks")
        document.getElementById('degree4').classList.replace("checkmark","checkmarks")
        document.getElementById('degree5').classList.replace("checkmark","checkmarks")
        document.getElementById('degree6').classList.replace("checkmark","checkmarks")
        document.getElementById('degree1').classList.replace("checkmarks","checkmark")
        this.answerForm['degree'] = 'å°å­¦åŠä»¥ä¸‹'
      }
      else if(degree === 2) {
        document.getElementById('degree1').classList.replace("checkmark","checkmarks")
        document.getElementById('degree3').classList.replace("checkmark","checkmarks")
        document.getElementById('degree4').classList.replace("checkmark","checkmarks")
        document.getElementById('degree5').classList.replace("checkmark","checkmarks")
        document.getElementById('degree6').classList.replace("checkmark","checkmarks")
        document.getElementById('degree2').classList.replace("checkmarks","checkmark")
        this.answerForm['degree'] = 'åˆä¸­'
      }
      else if(degree === 3) {
        document.getElementById('degree1').classList.replace("checkmark","checkmarks")
        document.getElementById('degree2').classList.replace("checkmark","checkmarks")
        document.getElementById('degree4').classList.replace("checkmark","checkmarks")
        document.getElementById('degree5').classList.replace("checkmark","checkmarks")
        document.getElementById('degree6').classList.replace("checkmark","checkmarks")
        document.getElementById('degree3').classList.replace("checkmarks","checkmark")
        this.answerForm['degree'] = 'é«˜ä¸­/èŒé«˜'
      }
      else if(degree === 4) {
        document.getElementById('degree1').classList.replace("checkmark","checkmarks")
        document.getElementById('degree2').classList.replace("checkmark","checkmarks")
        document.getElementById('degree3').classList.replace("checkmark","checkmarks")
        document.getElementById('degree5').classList.replace("checkmark","checkmarks")
        document.getElementById('degree6').classList.replace("checkmark","checkmarks")
        document.getElementById('degree4').classList.replace("checkmarks","checkmark")
        this.answerForm['degree'] = 'å¤§ä¸“'
      }
      else if(degree === 5) {
        document.getElementById('degree1').classList.replace("checkmark","checkmarks")
        document.getElementById('degree2').classList.replace("checkmark","checkmarks")
        document.getElementById('degree3').classList.replace("checkmark","checkmarks")
        document.getElementById('degree4').classList.replace("checkmark","checkmarks")
        document.getElementById('degree6').classList.replace("checkmark","checkmarks")
        document.getElementById('degree5').classList.replace("checkmarks","checkmark")
        this.answerForm['degree'] = 'æœ¬ç§‘'
      }
      else if(degree === 6) {
        document.getElementById('degree1').classList.replace("checkmark","checkmarks")
        document.getElementById('degree2').classList.replace("checkmark","checkmarks")
        document.getElementById('degree3').classList.replace("checkmark","checkmarks")
        document.getElementById('degree4').classList.replace("checkmark","checkmarks")
        document.getElementById('degree5').classList.replace("checkmark","checkmarks")
        document.getElementById('degree6').classList.replace("checkmarks","checkmark")
        this.answerForm['degree'] = 'ç¡•å£«åŠä»¥ä¸Š'
      }
    },
    chooseGrage(grade) {
      if(grade === 1) {
        document.getElementById('grade2').classList.replace("checkmark","checkmarks")
        document.getElementById('grade3').classList.replace("checkmark","checkmarks")
        document.getElementById('grade4').classList.replace("checkmark","checkmarks")
        document.getElementById('grade1').classList.replace("checkmarks","checkmark")
        this.answerForm['grade'] = 'æ— '
      }
      else if(grade === 2) {
        document.getElementById('grade1').classList.replace("checkmark","checkmarks")
        document.getElementById('grade3').classList.replace("checkmark","checkmarks")
        document.getElementById('grade4').classList.replace("checkmark","checkmarks")
        document.getElementById('grade2').classList.replace("checkmarks","checkmark")
        this.answerForm['grade'] = 'è¯¾ç†çº§'
      }
      else if(grade === 3) {
        document.getElementById('grade1').classList.replace("checkmark","checkmarks")
        document.getElementById('grade2').classList.replace("checkmark","checkmarks")
        document.getElementById('grade4').classList.replace("checkmark","checkmarks")
        document.getElementById('grade3').classList.replace("checkmarks","checkmark")
        this.answerForm['grade'] = 'çº¿ç»„çº§'
      }
      else if(grade === 4) {
        document.getElementById('grade1').classList.replace("checkmark","checkmarks")
        document.getElementById('grade2').classList.replace("checkmark","checkmarks")
        document.getElementById('grade3').classList.replace("checkmark","checkmarks")
        document.getElementById('grade4').classList.replace("checkmarks","checkmark")
        this.answerForm['grade'] = 'ç»ç†çº§ä»¥ä¸Š'
      }
    },
    sumbit() {
      if(this.answer.length != this.questionAndOptions.length) {
        this.$message({
          type: 'warning',
          message: 'æ‚¨è¿˜æœ‰é—®é¢˜æœªå¡«å†™'
        })
      } else {
        this.answerForm['answerData'] = JSON.stringify(this.answer)
        this.answerForm['tagsScore'] = JSON.stringify(this.answerTags)
      }
      this.answerForm['openAnswer'] = this.scheduleDetails.openQuestion + ':' + this.openQuestion
      answerApi.addAnswer(this.answerForm).then(res => {
        if(res.data.code === 200) {
          this.$message({
            type: 'success',
            message: 'æäº¤æˆåŠŸ'
          })
        }
      })
    },
    formatDate() {
      var date = new Date()
      var y = date.getFullYear();  
      var m = date.getMonth() + 1;  
      m = m < 10 ? '0' + m : m;  
      var d = date.getDate();  
      d = d < 10 ? ('0' + d) : d;  
      return y + '-' + m + '-' + d;  
    }
  }
}
</script>

<style scoped>
* {
  margin: 0;
  padding: 0;
}

.box {
  margin: 0;
  padding: 0;
  overflow-x:hidden;
}

/* å¤´éƒ¨æ ·å¼ */
.header {
  height: 8rem;
  background-color: #33a474;
}
.tips {
  height: 5rem;
  /* background-color: pink; */
}
.first {
  display: flex;
  height: 1.1rem;
  width: 9rem;
  background-color: rgba(255, 255, 255, 0.8);
  border-radius: 10px;
  margin: 0 auto;
  margin-top: 0.6rem;
}
img {
  height: 0.9rem;
  width: 0.9rem;
  margin-left: 10px;
  padding-top: 0.1rem;
}
.tip-text {
  line-height: 0.6rem;
  font-size: 0.5rem;
  color: #576071;
  margin-left: 10px;
  padding-top: 0.3rem;
}
/* å†…å®¹æ ·å¼ */
.question {
  text-align: center;
  /* margin-top: 5px; */
  border-top: 0;
  border-left: 0;
  border-right: 0;
  border-color: #e3e9f2;
}
legend {
  font-size: 0.6rem;
  font-weight: 600;
  color: #576071;
  line-height: 1.6rem;
  text-align: center;
  white-space: normal;
  padding-top: 20px;
}
.captions {
  display: flex;
  align-items: center;
  width: 10rem;
  margin: 10px auto;
  justify-content: space-between;
}
.text-green {
  display: inline-block;
  font-size: 0.5rem;
  margin-left: 9px;
  font-weight: 600;
  color: #33a474;
}
.text-purple {
  display: inline-block;
  font-size: 0.5rem;
  font-weight: 600;
  color: #88619a;
  margin-right: 9px;
  /* margin-left: 4rem; */
  /* margin-left: 210px; */
}
/*åœ†å½¢é€‰æ¡†*/
.group_option {
  display: flex;
  justify-content: center;
}
.radios {
  display: flex;
  align-items: center;
  width: 9rem;
  justify-content: space-between;
}
/* Hide the default checkbox */
.container input {
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

.container {
  /* display: flex; */
  cursor: pointer;
  font-size: 0.6rem;
  user-select: none;
  /* margin-right: 20px; */
}

/* Create a custom checkbox */
.checkmark {
  display: block;
  position: relative;
  top: 0;
  left: 0;
  height: 0.6rem;
  width: 2em;
  border: 4px solid green;
  border-radius: 50%;
}

.checkmarks {
  display: block;
  position: relative;
  top: 0;
  left: 0;
  height: 0.6rem;
  width: 2em;
  border: 4px solid green;
  border-radius: 50%;
}

/* When the checkbox is checked, add a blue background */
.container input:checked ~ .checkmark {
  background-color: #fff;
}

/* Create the checkmark/indicator (hidden when not checked) */
.checkmark:after {
  content: "";
  position: absolute;
  display: block;
}

/* Show the checkmark when checked */
/* .container input:checked ~ .checkmark:after  {
  display: none;
} */

/* å‹¾æ ·å¼ */
.container .checkmark::after {
  left: 0.5rem;
  top: 0.1rem;
  width: 0.5rem;
  height: 0.9rem;
  border: solid seagreen;
  border-width: 0 0.1rem 0.1rem 0;
  transform: rotate(45deg);
}

.container .checkmark2:after {
  left: 0.4rem;
  top: 0.3em;
  width: 0.4em;
  height: 0.8em;
  border: solid seagreen;
  border-width: 0 0.1rem 0.1rem 0;
  transform: rotate(45deg);
}
.container .checkmark3::after {
  left: 0.25rem;
  top: 0.2em;
  width: 0.3em;
  height: 0.6em;
  border: solid seagreen;
  border-width: 0 0.1rem 0.1rem 0;
  transform: rotate(45deg);
}
.container .checkmark4:after {
  left: 0.22rem;
  top: 0rem;
  width: 0.25rem;
  height: 0.5rem;
  border: solid seagreen;
  border-width: 0 0.1rem 0.1rem 0;
  transform: rotate(45deg);
}
/*è¾“å…¥æ¡†æ ·å¼ */
.textarea-container {
  position: relative;
  margin: 20px 0;
}

.textarea {
  width: 9rem;
  padding: 10px;
  border: 2px solid #88619a;
  border-radius: 4px;
  font-size: 16px;
  resize: none;
  height: 150px;
}

.textarea:focus,
.textarea:hover {
  border-color: #777;
}
/*ç”¨æˆ·ä¿¡æ¯ */
.info {
  display: flex;
  text-align: center;
  padding: 10px;
  border-top: 0;
  border-left: 0;
  border-right: 0;
  border-color: #e3e9f2;
}
.info-input {
  display: flex;
  width: 9rem;
  padding: 10px;
  border: 2px solid #88619a;
  border-radius: 4px;
  font-size: 16px;
  margin: 0 auto;
  /* resize: none; */
}
.info-option {
  display: flex;
  width: 9rem;
  margin: 0 auto;
  justify-content: space-between;
}
.text-option {
  font-size: 0.5rem;
  font-weight: 600;
  color: #33a474;
  /* vertical-align: bottom; */
  padding-top: 0.8rem;
  padding-left: 0.3rem;
}
.option {
  display: flex;
}

/* æäº¤æŒ‰é’® */
.footer {
  display: flex;
  justify-content: center;
  margin-top: 30px;
}
.animated-button {
  background-color: #88619a;
  border: none;
  color: #ffffff;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 30px;
  margin: 4px 2px;
  cursor: pointer;
  font-family: "Montserrat", sans-serif;
  letter-spacing: 5px;
  border-radius: 50px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  overflow: hidden;
  position: relative;
  transition: all 0.3s ease;
}

.animated-button:after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background-color: rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  opacity: 0;
  transform: translate(-50%, -50%);
  transition: all 0.5s ease;
}

.animated-button:hover:after {
  width: 210px;
  height: 200px;
  opacity: 1;
}

.animated-button:focus {
  outline: none;
}

.animated-button:active {
  transform: translateY(2px);
  box-shadow: none;
}
</style>